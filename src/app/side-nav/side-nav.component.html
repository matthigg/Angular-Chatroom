<mat-sidenav-container>

  <!-- Sidenav -->
  <mat-sidenav [opened]="isSideNavOpen" mode="side">

    <!-- Channel List -->
    <mat-nav-list>
      <a mat-list-item routerLink="/channels">Channel List</a>
    </mat-nav-list>

    <!-- Create Channel Form -->
    <mat-accordion>
      <mat-expansion-panel #matExpansionPanel>
        <mat-expansion-panel-header>New Channel</mat-expansion-panel-header>
        <form #f="ngForm" (ngSubmit)="onCreateChannel(f)">

          <!-- Input Field -->
          <mat-form-field>
            <input 
              matInput
              name="channelName"
              ngModel 
              placeholder="Name"
              type="text" 
              value
              #inputField
            >
          </mat-form-field>

          <!-- Submit Button -->
          <button
            mat-button 
            type="submit" 
            [disabled]="inputField.value == ''" 
            (click)="matExpansionPanel.toggle()"
          >
            Create
          </button>
        </form>
      </mat-expansion-panel>
    </mat-accordion>

    <!-- Channel Creation Errors -->
    <div *ngIf="errorChannelCreation">
      <mat-toolbar class="error-channel-creation">{{ errorChannelCreation }}</mat-toolbar>
    </div>

    <mat-accordion>
      <mat-expansion-panel>
        <mat-expansion-panel-header>Users</mat-expansion-panel-header>
        <mat-list>
          <mat-list-item *ngFor="let user of users">{{ user }}</mat-list-item>
        </mat-list>
      </mat-expansion-panel>
    </mat-accordion>

  </mat-sidenav>

  <!-- Main Content -->
  <mat-sidenav-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>

</mat-sidenav-container>